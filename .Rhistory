regulating_prices_2016$X__1[4:27]
length(regulating_prices_2016$X__1[4:27])
length(regulating_prices_2016$X__22[4:27])
regulating_prices_2016$X__22[4:27]
regulating_prices_2016$X__22[length(regulating_prices_2016$X__22)]
View(DK1_regulating_prices_2016)
(DK1_regulating_prices_2016 != regulating_prices_2016$X__22)
(round(DK1_regulating_prices_2016$UP) != regulating_prices_2016$X__22)
(DK1_regulating_prices_2016$UP != regulating_prices_2016$X__22)
length(DK1_regulating_prices_2016$UP)
length(regulating_prices_2016$X__22)
DK1_regulating_prices_2016$UP[3]
regulating_prices_2016$X__22[3]
regulating_prices_2016$X__22[4]
DK1_regulating_prices_2016$UP[1]
length(year_2016)
length(DK1_regulating_prices_2016$UP)
6*31*24+4*30*24+29*24
7*31*24+4*30*24+29*24
year_2016
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx")
DK1_regulating_prices_2016 = data.frame(UP = regulating_prices_2016$X__22[4:(length(regulating_prices_2016$X__22)-1)],
DOWN = regulating_prices_2016$X__23[4:(length(regulating_prices_2016$X__22)-1)])
DK1_regulating_prices_2016 = data.frame(hours = eyars_2016, UP = regulating_prices_2016$X__22[4:(length(regulating_prices_2016$X__22)-1)],
DOWN = regulating_prices_2016$X__23[4:(length(regulating_prices_2016$X__22)-1)])
DK1_regulating_prices_2016 = data.frame(hours = yars_2016, UP = regulating_prices_2016$X__22[4:(length(regulating_prices_2016$X__22)-1)],
DOWN = regulating_prices_2016$X__23[4:(length(regulating_prices_2016$X__22)-1)])
DK1_regulating_prices_2016 = data.frame(hours = years_2016, UP = regulating_prices_2016$X__22[4:(length(regulating_prices_2016$X__22)-1)],
DOWN = regulating_prices_2016$X__23[4:(length(regulating_prices_2016$X__22)-1)])
# Read regulating prices
source("C_Code/calendar.R")
DK1_regulating_prices_2016 = data.frame(hours = year_2016, UP = regulating_prices_2016$X__22[4:(length(regulating_prices_2016$X__22)-1)],
DOWN = regulating_prices_2016$X__23[4:(length(regulating_prices_2016$X__22)-1)])
View(DK1_regulating_prices_2016)
regulating_prices_2017 <- read_excel("D_Data/regulating_prices_2017.xlsx", skip = 1)
DK1_regulating_prices_2017 = data.frame(hours = year_2017, UP = regulating_prices_2017$X__22[3:(length(regulating_prices_2017$X__22)-1)],
DOWN = regulating_prices_2016$X__23[3:(length(regulating_prices_2017$X__22)-1)])
View(DK1_regulating_prices_2016)
View(regulating_prices_2016)
View(DK1_regulating_prices_2016)
View(regulating_prices_2017)
View(regulating_prices_2016)
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 1)
DK1_regulating_prices_2016 = data.frame(hours = year_2016, UP = regulating_prices_2016$X__22[3:(length(regulating_prices_2016$X__22)-1)],
DOWN = regulating_prices_2016$X__23[3:(length(regulating_prices_2016$X__22)-1)])
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 2, header = TRUE)
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 2)
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 1)
DK1_regulating_prices_2016$UP[2088:2111]
DK1_regulating_prices_2016$UP[2089:2112]
regulating_prices_up_example = DK1_regulating_prices_2016$UP[2089:2112] # 28th of March
regulating_prices_down_example = regulating_prices_2016$DOWN[2089:2112] #28th of March
regulating_prices_up_example = DK1_regulating_prices_2016$UP[2089:2112] # 28th of March
DK1_regulating_prices_2016$UP
DK1_regulating_prices_2016$UP[2089:2112]
regulating_prices_down_example = DK1_regulating_prices_2016$DOWN[2089:2112] #28th of March
plot(hours, elspot_price_example, type = "o", ylab = "spot price [€/MWh]",xlab = "Time of the day [h]", ylim = c(-200,200))
points(hours, regulating_prices_up_example, type = "o", col = "red", lty = 4)
points(hours, regulating_prices_down_example, type = "o", col = "blue", lty = 2)
elspot_price_example
regulating_prices_up_example
DK1_regulating_prices_2016$DOWN[2089:2112]
View(regulating_prices_2016)
regulating_prices_2016$X__23[match(paste0("2016-03-18"))]
regulating_prices_2016$X__23[match(paste0("2016-03-18"), table = regulating_prices_2016$`Data was last updated 11-01-2018`)]
DK1_regulating_prices_2016$DOWN[2089:2112]
regulating_prices_2016$X__22[2091:2114]
regulating_prices_2016$X__23[2091:2114]
DK1_regulating_prices_2016$DOWN[2089:2112]
View()
View(elspot_price_16$DK1)
elspot_price_16 = read_excel("D_Data/elspot_price_16.xlsx", skip = 2)
View(elspot_price_16$DK1)
View(elspot_price_16)
elspot_price_example
regulating_prices_2016$`Data was last updated 11-01-2018`[rep(paste0("2016-03-28"),24)]
DK1_regulating_prices_2016$UP
rep(paste0("2016-03-28"),24)
regulating_prices_2016$`Data was last updated 11-01-2018`[paste0("2016-03-28")]
regulating_prices_2016$`Data was last updated 11-01-2018`["2016-03-28"]
regulating_prices_2016$`Data was last updated 11-01-2018`[2016-03-28]
regulating_prices_2016$`Data was last updated 11-01-2018`[rep(paste0(2016-03-28,24))]
rep(paste0(2016-03-28,24))
rep(paste0("2016-03-28",24, collapse = NULL))
rep(paste0("2016-03-28",24, spe =""))
rep(paste0("2016-03-28"),24)
regulating_prices_2016$`Data was last updated 11-01-2018`[rep(paste0("2016-03-28"),24)]
rep(paste0(2016-03-28),24)
rep(paste(2016-03-28),24)
rep(paste0("2016-03-28", sep = ""),24)
noquot(rep(paste0("2016-03-28", sep = ""),24))
noquote(rep(paste0("2016-03-28", sep = ""),24))
regulating_prices_2016$`Data was last updated 11-01-2018`[noquote(rep(paste0("2016-03-28", sep = ""),24))]
regulating_prices_2016$`Data was last updated 11-01-2018`[noquote(rep(paste0("2016-03-28", sep = ","),24))]
noquote(rep(paste0("2016-03-28", sep = ""),24))
a = noquote(rep(paste0("2016-03-28", sep = ""),2))
regulating_prices_2016$`Data was last updated 11-01-2018`[a]
a
a = noquote(rep(paste0("2016-03-28", sep = ":"),2))
a
a = noquote(paste0("2016-03-28", sep = ":"))
a
a = noquote(paste0("2016-03-28", sep = ""))
a
regulating_prices_2016$`Data was last updated 11-01-2018`[a:a]
a
a:a
regulating_prices_2016$`Data was last updated 11-01-2018`[2016-01-01]
regulating_prices_2016$`Data was last updated 11-01-2018`[2016-01-02]
regulating_prices_2016$`Data was last updated 11-01-2018`[(2016-01-02):(2016-01-02)]
plot(hours, elspot_price_example, type = "o", ylab = "spot price [€/MWh]",xlab = "Time of the day [h]", ylim = c(-200,200))
points(hours, regulating_prices_up_example, type = "o", col = "red", lty = 4)
points(hours, regulating_prices_down_example, type = "o", col = "blue", lty = 2)
plot(hours, elspot_price_example, type = "o", ylab = "spot price [€/MWh]",xlab = "Time of the day [h]", ylim = c(-200,700))
points(hours, regulating_prices_up_example, type = "o", col = "red", lty = 4)
points(hours, regulating_prices_down_example, type = "o", col = "blue", lty = 2)
hour = seq(1,24,&)
hour = seq(1,24,1)
paste0(rep(date,hour))
paste0(rep(date,hour,1))
date
date = "2016-03-28" # 2016-03-28-1
date
index_date = paste0(date,sep"")
index_date = paste0(date, sep = "")
index_date
year = 2016
month = 03
day = 28
look_date = paste0(year,month,day)
look_date
paste0(lookdate)
look_date = paste0(year,month,day,1)
paste0(look_date)
look_date = paste0(year,month,day)
paste0(look_date,1)
elspot_price_16 = read_excel("D_Data/elspot_price_16.xlsx", skip = 2)
elspot_price_16$X__1[1]
noquote(elspot_price_16$X__1[1])
paste0(elspot_price_16$X__1[1])
paste0(noquote(elspot_price_16$X__1[1]))
noquote(paste0(elspot_price_16$X__1[1]))
read.csv(a, sep ="")
as.Date(a, %Y%m%d)
as.Date(a, %y%m%d)
as.Date(a, %y-%m-%d)
as.Date(a, %Y-%m-%d)
format(a, trim = "-")
format(a, trim = -)
format(a)
a = gsub(a,pattern = "-", replacement = "")
a
a = noquote(paste0(elspot_price_16$X__1[1:24]))
a = gsub(a,pattern = "-", replacement = "")
a
sapply(a,1:24)
year_2016
a = paste0(a,year_2016[1:24])
a
a = noquote(paste0(elspot_price_16$X__1[1:48]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016[1:48])
a
elspot_price_16 = read_excel("D_Data/elspot_price_16.xlsx", skip = 2)
a = noquote(paste0(elspot_price_16$X__1))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
View(a)
a = noquote(paste0(elspot_price_16$X__1[1:(length((elspot_price_16$X__1)])-1)-
a = noquote(paste0(elspot_price_16$X__1[1:(length((elspot_price_16$X__1)])-1))
a = noquote(paste0(elspot_price_16$X__1[1:(length(elspot_price_16$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
View(a)
elspot_price_16 = data.frame(date = a, DK1 = elspot_price_16$DK1[1:(length(elspot_price_16$X__1)-1)])
View(elspot_price_16)
elspot_price_17 = read_excel("D_Data/elspot_price_17.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(elspot_price_17$X__1[1:(length(elspot_price_16$X__1)-1)]))
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(elspot_price_17$X__1[1:(length(elspot_price_17$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2017)
elspot_price_16 = read_excel("D_Data/elspot_price_16.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(elspot_price_16$X__1[1:(length(elspot_price_16$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
# return it in a data frame
elspot_price_16 = data.frame(date = a, DK1 = elspot_price_16$DK1[1:(length(elspot_price_16$X__1)-1)])
elspot_price_17 = read_excel("D_Data/elspot_price_17.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(elspot_price_17$X__1[1:(length(elspot_price_17$X__1)-1)]))
b = gsub(a,pattern = "-", replacement = "")
b = paste0(a,year_2017)
# return it in a data frame
elspot_price_17 = data.frame(date = b, DK1 = elspot_price_17$DK1[1:(length(elspot_price_17$X__1)-1)])
length(elspot_price_17$X__1)
length(b)
source("calendar.R")
source("C_Code/calendar.R")
length(year_2017)
(length(elspot_price_17$X__1)-1)
elspot_price_17 = read_excel("D_Data/elspot_price_17.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(elspot_price_17$X__1[1:(length(elspot_price_17$X__1)-1)]))
b = gsub(a,pattern = "-", replacement = "")
b = paste0(a,year_2017)
# return it in a data frame
elspot_price_17 = data.frame(date = b, DK1 = elspot_price_17$DK1[1:(length(elspot_price_17$X__1)-1)])
source("C_Code/calendar.R")
elspot_price_16 = read_excel("D_Data/elspot_price_16.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(elspot_price_16$X__1[1:(length(elspot_price_16$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
# return it in a data frame
elspot_price_16 = data.frame(date = a, DK1 = elspot_price_16$DK1[1:(length(elspot_price_16$X__1)-1)])
elspot_price_17 = read_excel("D_Data/elspot_price_17.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(elspot_price_17$X__1[1:(length(elspot_price_17$X__1)-1)]))
b = gsub(b,pattern = "-", replacement = "")
b = paste0(b,year_2017)
# return it in a data frame
elspot_price_17 = data.frame(date = b, DK1 = elspot_price_17$DK1[1:(length(elspot_price_17$X__1)-1)])
# return it in a data frame
elspot_price_17 = data.frame(date = b, DK1 = elspot_price_17$DK1[1:(length(elspot_price_17$X__1)-1)])
elspot_price_17
View(elspot_price_17)
View(wind_power_forecast_2017)
# Read wind power forecast file
data_wp = read.table("D_Data/windpowerforecasts.dat", skip = 0, sep = ";")
# Rename the column with the 10th quantile
data_wp[1,7] = "q10"
# shift 2017 hours in first position
data_wp[2:27750,] = data_wp[14:27762,]
# Write and read only the hours in 2017
write.table(data_wp[1:22750,], file = "D_Data/renamed_wp_file.dat")
data_wp = read.table("D_Data/renamed_wp_file.dat", header = TRUE, skip = 1)
wind_power_forecast_2017 = data.frame( data_wp)
View(wind_power_forecast_2017)
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 1)
View(regulating_prices_2016)
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
(length(regulating_prices_2016$Down__10)-1)
regulating_prices_2016$Down__10
(length(regulating_prices_2016$Down__10)-1)
length(x = )
length(x = a)
# return it in a data frame
regulating_prices_2016 = data.frame(date = a, DK1 = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
View(regulating_prices_2016)
View(regulating_prices_2016)
View(elspot_price_16)
regulating_prices_2016$Up__10
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
# return it in a data frame
regulating_prices_2016 = data.frame(date = a, DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)],
DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)])
View(regulating_prices_2016)
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
a = paste0(a,year_2016)
# return it in a data frame
regulating_prices_2016 = data.frame(date = a, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
View(regulating_prices_2016)
regulating_prices_2017 <- read_excel("D_Data/regulating_prices_2017.xlsx", skip = 1)
View(regulating_prices_2017)
regulating_prices_2017 <- read_excel("D_Data/regulating_prices_2017.xlsx", skip = 3)
# return it in a data frame
regulating_prices_2017 = data.frame(date = b, DK1_UP = regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)],
DK1_DOWN = regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
View(regulating_prices_2017)
regulating_prices_2017$date[201701011:201702011]
regulating_prices_2017$date[201701011]
regulating_prices_2017$date[1]
regulating_prices_2017 = list(date = b, DK1_UP = regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)],
DK1_DOWN = regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
regulating_prices_2017
regulating_prices_2017$date
# What date do you want to plot ?
# 28th of March 2016 : YYYYMMDD
date = 201603281
as.numeric(rownames(regulating_prices_2016$date[date]))
rownames(regulating_prices_2016$date[date])
regulating_prices_2016$date[date]
regulating_prices_2016$date[[date]]
regulating_prices_2016$date[date]
index(regulating_prices_2016$date[date])
for(column in names(regulating_prices_2016)) {
columnClass = class(regulating_prices_2016[,column])
print(columnClass)
}
columnClass
lapply(regulating_prices_2016, factor)
View(regulating_prices_2016)
names(regulating_prices_2016)
class(regulating_prices_2016[,column]
class(regulating_prices_2016[,column])
for(column in names(regulating_prices_2016)) {
columnClass = class(regulating_prices_2016[,column])
print(columnClass)
}
lapply(regulating_prices_2016, factor)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a = gsub(a,pattern = "-", replacement = "")
# return it in a data frame
regulating_prices_2016 = data.frame(date = a, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
View(regulating_prices_2016)
a
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a
a = gsub(a,pattern = "-", replacement = "")
a
# return it in a data frame
regulating_prices_2016 = data.frame(date = a, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
View(regulating_prices_2016)
# 28th of March 2016 : YYYYMMDD
date = 20160328
# convert date into index
regulating_prices_2016[regulating_prices_2016$date == date,]
regulating_prices_2016$DK1_UP[regulating_prices_2016$date == date,]
regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$date, regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP)
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP)
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_DOWN)
points(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_DOWN, col ="red")
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP)
points(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_DOWN, col ="red")
points(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_DOWN, col ="red", type ="o")
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP, type = "o")
points(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_DOWN, col ="red", type ="o")
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a_daily = gsub(a,pattern = "-", replacement = "")
a_hourly = paste0(a_daily,year_2016)
# return it in a data frame
regulating_prices_2016 = data.frame(date_daily = a_daily, date_hourly = a_hourly, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
Viewregulating_prices_2016
View(regulating_prices_2016)
a
a_monthly = gsub(a,pattern = "-", useBytes = TRUE, replacement = "")
a_monthly
sub("^(\\w).*$", "\\1", a)
sub("^(\w).*$", "\\1", a)
sub("^(\\w).*$", "\\6", a)
sub("^4.*$", "\\1", a)
sub("^6.*$", "\\1", a)
sub("^(\\w).*$", "\\1", a)
sub("^(\\d{3}).*$", "\\1", a)
sub("^(\\d{7}).*$", "\\1", a)
sub("^(\\d{4}).*$", "\\1", a)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a
a_daily = gsub(a,pattern = "-", replacement = "")
a_daily
a_monthly = sub("^(\\d{6}).*$", "\\1", a)
# return it in a data frame
regulating_prices_2016 = data.frame(date_monthly = a_monthly, date_daily = a_daily, date_hourly = a_hourly, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a_daily = gsub(a,pattern = "-", replacement = "")
a_monthly = sub("^(\\d{6}).*$", "\\1", a)
a_hourly = paste0(a_daily,year_2016)
# return it in a data frame
regulating_prices_2016 = data.frame(date_monthly = a_monthly, date_daily = a_daily, date_hourly = a_hourly, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
Viex(regulating_prices_2016)
View(regulating_prices_2016)
a_daily
regulating_prices_2016 <- read_excel("D_Data/regulating_prices_2016.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(regulating_prices_2016$X__1[1:(length(regulating_prices_2016$X__1)-1)]))
a_daily = gsub(a,pattern = "-", replacement = "")
a_monthly = sub("^(\\d{6}).*$", "\\1", a_daily)
a_hourly = paste0(a_daily,year_2016)
# return it in a data frame
regulating_prices_2016 = data.frame(date_monthly = a_monthly, date_daily = a_daily, date_hourly = a_hourly, DK1_UP = regulating_prices_2016$Up__10[1:(length(regulating_prices_2016$Up__10)-1)],
DK1_DOWN = regulating_prices_2016$Down__10[1:(length(regulating_prices_2016$Down__10)-1)])
View(regulating_prices_2016)
regulating_prices_2017 <- read_excel("D_Data/regulating_prices_2017.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(regulating_prices_2017$X__1[1:(length(regulating_prices_2017$X__1)-1)]))
b_daily = gsub(b,pattern = "-", replacement = "")
b_monthly = sub("^(\\d{6}).*$", "\\1", b_daily)
b_hourly = paste0(b_daily,year_2016)
# return it in a data frame
regulating_prices_2017 = data.frame(date_monthly = b_monthly, date_daily = b, date_hourly = b_hourly, DK1_UP = regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)],
DK1_DOWN = regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
regulating_prices_2017 <- read_excel("D_Data/regulating_prices_2017.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(regulating_prices_2017$X__1[1:(length(regulating_prices_2017$X__1)-1)]))
b_daily = gsub(b,pattern = "-", replacement = "")
b_monthly = sub("^(\\d{6}).*$", "\\1", b_daily)
b_hourly = paste0(b_daily,year_2016)
# return it in a data frame
regulating_prices_2017 = data.frame(date_monthly = b_monthly, date_daily = b, date_hourly = b_hourly, DK1_UP = regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)],
DK1_DOWN = regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
length(date_monthly = b_monthly)
length(b_monthly)
length(b)
regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)]
length(regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)])
regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)]
length(regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
date_monthly
b_monthly
b
b_hourly
length(b_hourly)
b_hourly = paste0(b_daily,year_2017)
# return it in a data frame
regulating_prices_2017 = data.frame(date_monthly = b_monthly, date_daily = b, date_hourly = b_hourly, DK1_UP = regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)],
DK1_DOWN = regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
regulating_prices_2017 <- read_excel("D_Data/regulating_prices_2017.xlsx", skip = 3)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(regulating_prices_2017$X__1[1:(length(regulating_prices_2017$X__1)-1)]))
b_daily = gsub(b,pattern = "-", replacement = "")
b_monthly = sub("^(\\d{6}).*$", "\\1", b_daily)
b_hourly = paste0(b_daily,year_2017)
# return it in a data frame
regulating_prices_2017 = data.frame(date_monthly = b_monthly, date_daily = b, date_hourly = b_hourly, DK1_UP = regulating_prices_2017$Up__10[1:(length(regulating_prices_2017$Up__10)-1)],
DK1_DOWN = regulating_prices_2017$Down__10[1:(length(regulating_prices_2017$Down__10)-1)])
View(regulating_prices_2017)
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP, type = "o")
# 28th of March 2016 : YYYYMMDD
date = 20160328
plot(regulating_prices_2016[regulating_prices_2016$date == date,]$DK1_UP, type = "o")
regulating_prices_2016[regulating_prices_2016$date == date,]
plot(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP, type = "o")
# in MArch
date = 201603
plot(regulating_prices_2016[regulating_prices_2016$date_monthly == date,]$DK1_UP, type = "o")
points(regulating_prices_2016[regulating_prices_2016$date_monthly == date,]$DK1_DOWN, col ="red", type ="o")
plot(1:N, DK1_price_16[1:N], type = "l", xlab = "Time [h]", ylab = "[DKK/MWh]")
N = min(length(DK1_price_16), length(DK1_price_17))
plot(1:N, DK1_price_16[1:N], type = "l", xlab = "Time [h]", ylab = "[DKK/MWh]")
# PRICES
DK1_price_16 = elspot_price_16[,9]
elspot_price_16$DK1
# PRICES
DK1_price_16 = elspot_price_16$DK1
DK1_price_17 = elspot_price_17$DK1
N = min(length(DK1_price_16), length(DK1_price_17))
plot(1:N, DK1_price_16[1:N], type = "l", xlab = "Time [h]", ylab = "[DKK/MWh]")
lines(1:N, DK1_price_17[1:N], col = "blue")
legend("bottomleft", legend = c(paste0("2016 / mean price : ", round(mean(DK1_price_16[1:N], na.rm = TRUE), digits = 2), " €/MWh"),
paste0("2017 / mean price : ", round(mean(DK1_price_17[1:N], na.rm = TRUE), digits = 2), " €/MWh")), col = c("black", "blue"), lty = 1)
legend("bottomleft", legend = c(paste0("2016 / mean price : ", round(mean(DK1_price_16[1:N], na.rm = TRUE), digits = 2), " DKK/MWh"),
paste0("2017 / mean price : ", round(mean(DK1_price_17[1:N], na.rm = TRUE), digits = 2), " DKK/MWh")), col = c("black", "blue"), lty = 1)
title(main = "Electricity Spot Price in DK1")
elspot_price_16 = read_excel("D_Data/elspot_price_16.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
a = noquote(paste0(elspot_price_16$X__1[1:(length(elspot_price_16$X__1)-1)]))
a_daily = gsub(a,pattern = "-", replacement = "")
a_monthly = sub("^(\\d{6}).*$", "\\1", a_daily)
a_hourly = paste0(a_daily,year_2016)
# return it in a data frame
elspot_price_16 = data.frame(date_monthly = a_monthly, date_daiy = a_daily, date_hourly = a_hourly, DK1 = elspot_price_16$DK1[1:(length(elspot_price_16$X__1)-1)])
View(elspot_price_16)
elspot_price_17 = read_excel("D_Data/elspot_price_17.xlsx", skip = 2)
# change the date "2016-MM-DD" into "2016MMDDi" where i is the hour
b = noquote(paste0(elspot_price_17$X__1[1:(length(elspot_price_17$X__1)-1)]))
b_daily = gsub(b,pattern = "-", replacement = "")
b_monthly = sub("^(\\d{6}).*$", "\\1", b_daily)
b_hourly = paste0(b_daily,year_2017)
# return it in a data frame
elspot_price_17 = data.frame(date_monthly = b_monthly, date_daiy = b_daily, date_hourly = b_hourly, DK1 = elspot_price_17$DK1[1:(length(elspot_price_17$X__1)-1)])
View(elspot_price_17)
plot(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP, type = "o")
# What date do you want to plot ?
# 28th of March 2016 : YYYYMMDD
date = 20160328
plot(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP, type = "o")
points(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN, col ="red", type ="o")
plot(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP, type = "o", ylim = c(min(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP),max(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP)))
points(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN, col ="red", type ="o")
plot(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP, type = "o", ylim = c(min(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP),max(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN)))
points(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN, col ="red", type ="o")
plot(date_up, type = "o", ylim = c(min(dat_up,date_down), max(date_up, date_down)))
date_up = regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_UP
date_down = regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN
plot(date_up, type = "o", ylim = c(min(dat_up,date_down), max(date_up, date_down)))
points(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN, col ="red", type ="o")
plot(date_up, type = "o", ylim = c(min(date_up,date_down), max(date_up, date_down)))
points(regulating_prices_2016[regulating_prices_2016$date_daily == date,]$DK1_DOWN, col ="red", type ="o")
